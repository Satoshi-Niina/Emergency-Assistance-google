# ===================================
# ローカル開発環境設定テンプレート
# ===================================
# このファイルは.env.developmentのテンプレートです
# 使用方法:
# 1. このファイルをコピーして .env.development を作成
# 2. 実際の値を設定（APIキー、データベース接続情報など）
# 3. .env.developmentはGitにコミットしないでください（.gitignoreに含まれています）
#
# 本番環境では以下のファイルをテンプレートとして使用してください：
# - server/.env.production（サーバー側環境変数）
# - client/.env.production（クライアント側環境変数）
# 
# 本番環境の環境変数設定方法：
# 1. GitHub Secretsに環境変数を登録
# 2. GitHub Actionsでクラウド（Azure App Service）にデプロイ
# 3. 環境変数は自動的にクラウド環境に設定されます
NODE_ENV=development

# ===================================
# ストレージ設定
# ===================================
# ストレージモード
# - local: ローカルフォルダ使用 (knowledge-base/ ディレクトリ)
# - gcs: Google Cloud Storage使用
STORAGE_MODE=local

# ローカルストレージのパス（デフォルト: knowledge-base/）
# LOCAL_STORAGE_PATH=./knowledge-base

# ===================================
# Google Gemini API設定
# ===================================
# Google Cloud Console (https://console.cloud.google.com/) で取得
GOOGLE_GEMINI_API_KEY=your-gemini-api-key-here

# ===================================
# Google Cloud Storage設定
# STORAGE_MODE=gcsの場合に必要
# ===================================
# バケット名
GOOGLE_CLOUD_STORAGE_BUCKET=your-bucket-name

# Google Cloud プロジェクトID
GOOGLE_CLOUD_PROJECT_ID=your-project-id

# 認証方法1: サービスアカウントキーファイルのパス
# GOOGLE_APPLICATION_CREDENTIALS=./service-account-key.json

# 認証方法2: サービスアカウントキーのJSON文字列（本番環境推奨）
# GOOGLE_APPLICATION_CREDENTIALS_JSON={"type":"service_account","project_id":"..."}

# 認証方法3: Application Default Credentials（ローカル開発環境）
# gcloud auth application-default login を実行済みの場合は自動的に認証されます

# ===================================
# セッション設定
# ===================================
# セッション暗号化キー（ランダムな文字列を使用してください）
SESSION_SECRET=your-secret-key-here-change-this

# ========================================
# Database Configuration
# ========================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://postgres:Takabeni@localhost:5432/webappdb

# ========================================
# Default Admin User (Initial Setup Only)
# ========================================
# WARNING: Change these values for production!
# These credentials are used to create the initial admin user on first startup
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=admin
DEFAULT_ADMIN_DISPLAY_NAME=System Admin

# ========================================
# API Configuration
# ========================================
# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:5002

# API Base URL (used by frontend)
VITE_API_BASE_URL=http://localhost:3001

# ========================================
# Session Configuration
# ========================================
# Secret key for session encryption (generate a random string)
SESSION_SECRET=emergency-assistance-session-secret-2024

# ========================================
# Server Configuration
# ========================================
# Environment (development, production, test)
NODE_ENV=development

# Server port
PORT=3001

# ========================================
# Storage Configuration
# ========================================
# Storage mode (Required for production)
# Values: "local" (development), "gcs" (production Google Cloud Storage)
# GitHub Secret Name: STORAGE_MODE
# Local: STORAGE_MODE=local (uses knowledge-base/ directory with folders: history/, manuals/, temp/)
# Production: STORAGE_MODE=gcs (uses Google Cloud Storage bucket)
STORAGE_MODE=local

# Local storage path (optional, defaults to knowledge-base/)
# LOCAL_STORAGE_PATH=./knowledge-base

# ========================================
# Google API Configuration
# ========================================
# Google Gemini API key for AI features
# Get your API key from: https://makersuite.google.com/app/apikey
GOOGLE_GEMINI_API_KEY=your-google-gemini-api-key-here

# Google Cloud Storage Configuration (Required when STORAGE_MODE=gcs)
# Bucket name for storing chat exports, flows, and AI settings
# This should match your GCS bucket structure: history/, manuals/, temp/
GOOGLE_CLOUD_STORAGE_BUCKET=emergency-knowledge-assets

# Google Cloud Project ID
GOOGLE_CLOUD_PROJECT_ID=your-project-id

# Service Account Key File Path (optional, uses Application Default Credentials if not specified)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json

# ========================================
# Application Settings
# ========================================
# Log level (debug, info, warn, error)
LOG_LEVEL=debug

# File upload limits
MAX_FILE_SIZE=10485760
MAX_UPLOAD_FILES=5

# Chat history limits
MAX_CHAT_HISTORY=100

# ========================================
# Backup Configuration
# ========================================
# Enable/disable automatic backups (true/false)
BACKUP_ENABLED=true

# Maximum number of backup files to keep per file
BACKUP_MAX_FILES=3

# Backup folder name (relative to knowledge-base)
BACKUP_FOLDER_NAME=backups

# ========================================
# Production Settings (uncomment for production)
# ========================================
# NODE_ENV=production
# LOG_LEVEL=info
# FRONTEND_URL=https://your-frontend-domain.com
# VITE_API_BASE_URL=https://your-backend-domain.com
# BACKUP_ENABLED=false
